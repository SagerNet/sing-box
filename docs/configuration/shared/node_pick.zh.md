### 结构

```json
{
  "expected": 1,
  "baselines": [
    "50ms",
    "100ms",
    "150ms",
    "200ms",
    "250ms",
    "350ms"
  ],
  "costs": [
    {
      "match": "proxy-c",
      "value": 10
    },
    {
      "match": "x2.0"
    },
    {
      "regexp": true,
      "match": "x\\d+(\\.\\d+)?"
    }
  ]
}
```
### expected

期望选出的节点数量。默认为 `1`。

### baselines

选择节点的基准线，它将节点划分为不同的档位。默认为空。

!!! tip "expected 和 baselines 的作用逻辑"

    以下举例说明不同配置组合的逻辑：

    1. expected=`3` baselines =`[]`，表示选出历次检查中 RTT 最小的 3 个节点。

    1. expected=`3` baselines =`["50ms", "100ms", "150ms"]`。
    
        假设在上一例子中，选择了 `40ms`, `65ms`, `90ms` 的三个节点，但还有 N 个 `90-100ms` 的节点与被选的几乎同样优秀，我们不希望浪费它们。
    
        配置上述基准线后，要选择到 3 个节点，必须跨入 `50-100ms` 这一档位，那么这一档位内的其它节点也一同被选中。

    > 上方所述 RTT，对于 `leastload` 策略，指的是节点成本加权的 RTT 标准差；对于 `leastping` 策略，指的是节点成本加权的 RTT 平均值。

### costs

节点的成本规则。默认为空。

节点的成本规则是一个数组，每个规则包含三个字段：

```json
{
  "regexp": true,
  "match": "x\\d+(\\.\\d+)?",
  "value": 10
}
```

它通过匹配出站的 `tag` 来设置成本值，这个成本值最终会加权到节点的 RTT 上。效果是，节点的成本越高，它被选中的概率越低。

排在前面的成本规则具有更高优先级，如果能匹配到多个规则，只会使用第一个匹配到的规则。

如果没有匹配到任何规则，那么节点的成本为 `1`。

### costs.regexp

是否使用正则表达式匹配。默认为 `false`。

### costs.match

匹配表达式

### costs.value

显式设定匹配节点的成本值。默认为 `0`，即不显式设置。

在没有设置此字段的情况下，节点的成本值会根据 `match` 表达式中匹配到的数字自动设置。例如，以正则表达式 `x\\d+(\\.\\d+)?` 匹配节点 `proxy-b-x2.0`，将匹配到 `x2.0`。其中的数字 `2.0` 会被提取并设置为这个节点的成本值。

若没有显式设置，且匹配文本中没有找到数字，那么成本值会被设置为 `1`。
